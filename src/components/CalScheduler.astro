---
const apiKey = "cal_live_06b64e7837d7d031cb008e781baf241d";
const username = "kevine-yves";
const eventType = "meeting";

const response = await fetch(`https://api.cal.com/v1/availability`, {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    Authorization: `Bearer ${apiKey}`,
  },
  body: JSON.stringify({
    user: username,
    eventType: eventType,
    timezone: "Europe/Paris",
    duration: 30, // Durée du rendez-vous en minutes
  }),
});

const data = await response.json();
const slots = data?.availability || [];
---

<h2>Disponibilités</h2>
<ul>
  {slots.map((slot) => <li>{new Date(slot.startTime).toLocaleString()}</li>)}
</ul>
