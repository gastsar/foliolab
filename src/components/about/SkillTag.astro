---

type ExpertiseType = "Beginner" | "Intermediate" | "Advanced";

interface Props {
  name: string;
  icon: string;
  expertise?: ExpertiseType;
}

const { name, icon, expertise = "Intermediate" } = Astro.props;

const tagConfig = {
  Advanced: {
    text: "Avancé",
    bgColor: "bg-red-100",
    textColor: "text-red-700",
    borderColor: "border-2 border-red-700",
  },
  Intermediate: {
    text: "Intermédiaire",
    bgColor: "bg-yellow-100",
    textColor: "text-yellow-700",
    borderColor: "border-2 border-yellow-700",
  },
  Beginner: {
    text: "Débutant",
    bgColor: "bg-green-100",
    textColor: "text-green-700",
    borderColor: "border-2 border-green-700",
  },
};

const tagStyle = tagConfig[expertise];

---

<span
  class={`relative group px-3 py-1 text-sm font-medium ${tagStyle.bgColor} ${tagStyle.textColor} ${tagStyle.borderColor} rounded-full cursor-pointer`}
>
  <i class={icon}></i>
  {name}

  {/* Tooltip */}
  <span
    class="absolute left-1/2 bottom-full mb-2 w-max -translate-x-1/2 whitespace-nowrap rounded-lg bg-gray-100 px-2 py-1 text-xs font-semibold text-gray-900 hidden group-hover:block"
  >
    {tagStyle.text}
  </span>
</span>
